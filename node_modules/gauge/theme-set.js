"use strict";var e,t=require("object-assign");module.exports=function(){return e.newThemeSet()},(e={}).baseTheme=require("./base-theme.js"),e.newTheme=function(e,r){return r||(r=e,e=this.baseTheme),t({},e,r)},e.getThemeNames=function(){return Object.keys(this.themes)},e.addTheme=function(e,t,r){this.themes[e]=this.newTheme(t,r)},e.addToAllThemes=function(e){var r=this.themes;Object.keys(r).forEach(function(s){t(r[s],e)}),t(this.baseTheme,e)},e.getTheme=function(e){if(!this.themes[e])throw this.newMissingThemeError(e);return this.themes[e]},e.setDefault=function(e,t){var r,s,a;null==t&&(t=e,e={}),r=null==e.platform?"fallback":e.platform,s=!!e.hasUnicode,a=!!e.hasColor,this.defaults[r]||(this.defaults[r]={true:{},false:{}}),this.defaults[r][s][a]=t},e.getDefault=function(e){var r,s,a,i;if(e||(e={}),r=e.platform||process.platform,s=this.defaults[r]||this.defaults.fallback,a=!!e.hasUnicode,i=!!e.hasColor,!s)throw this.newMissingDefaultThemeError(r,a,i);if(!s[a][i])if(a&&i&&s[!a][i])a=!1;else if(a&&i&&s[a][!i])i=!1;else if(a&&i&&s[!a][!i])a=!1,i=!1;else if(a&&!i&&s[!a][i])a=!1;else if(!a&&i&&s[a][!i])i=!1;else if(s===this.defaults.fallback)throw this.newMissingDefaultThemeError(r,a,i);return s[a][i]?this.getTheme(s[a][i]):this.getDefault(t({},e,{platform:"fallback"}))},e.newMissingThemeError=function e(t){var r=Error('Could not find a gauge theme named "'+t+'"');return Error.captureStackTrace.call(r,e),r.theme=t,r.code="EMISSINGTHEME",r},e.newMissingDefaultThemeError=function e(t,r,s){var a=Error("Could not find a gauge theme for your platform/unicode/color use combo:\n    platform = "+t+"\n    hasUnicode = "+r+"\n    hasColor = "+s);return Error.captureStackTrace.call(a,e),a.platform=t,a.hasUnicode=r,a.hasColor=s,a.code="EMISSINGTHEME",a},e.newThemeSet=function(){var r=function(e){return r.getDefault(e)};return t(r,e,{themes:t({},this.themes),baseTheme:t({},this.baseTheme),defaults:JSON.parse(JSON.stringify(this.defaults||{}))})};