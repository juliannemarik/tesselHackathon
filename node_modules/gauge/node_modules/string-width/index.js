"use strict";var r=require("strip-ansi"),e=require("code-point-at"),t=require("is-fullwidth-code-point");module.exports=function(i){var n,o,u;if("string"!=typeof i||0===i.length)return 0;for(n=0,i=r(i),o=0;o<i.length;o++)(u=e(i,o))<=31||u>=127&&u<=159||(u>=65536&&o++,t(u)?n+=2:n++);return n};