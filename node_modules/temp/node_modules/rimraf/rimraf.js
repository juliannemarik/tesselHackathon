function r(r,n){if(!n)throw Error("No callback passed to rimraf()");var c=0;o(r,function e(t){if(t){if("EBUSY"===t.code&&c<exports.BUSYTRIES_MAX)return setTimeout(function(){o(r,e)},100*++c);if("EMFILE"===t.code&&i<exports.EMFILE_MAX)return setTimeout(function(){o(r,e)},i++);"ENOENT"===t.code&&(t=null)}i=0,n(t)})}function o(o,n){e.unlink(o,function(i){return i&&"ENOENT"===i.code?n():!i||"EPERM"!==i.code&&"EISDIR"!==i.code?n(i):function(o,n,i){e.rmdir(o,function(t){!t||"ENOTEMPTY"!==t.code&&"EEXIST"!==t.code?i(t&&"ENOTDIR"===t.code?n:t):function(o,n){e.readdir(o,function(i,t){var E,u;return i?n(i):0===(E=t.length)?e.rmdir(o,n):void t.forEach(function(i){r(c.join(o,i),function(r){if(!u)return r?n(u=r):void(0==--E&&e.rmdir(o,n))})})})}(o,i)})}(o,i,n)})}function n(r){try{e.unlinkSync(r)}catch(o){if("ENOENT"===o.code)return;if("EPERM"!==o.code&&"EISDIR"!==o.code)throw o;try{e.rmdirSync(r)}catch(i){if("ENOENT"===i.code)return;if("ENOTDIR"===i.code)throw o;"ENOTEMPTY"===i.code&&(e.readdirSync(r).forEach(function(o){n(c.join(r,o))}),e.rmdirSync(r))}}}var c,e,i;module.exports=r,r.sync=n,c=require("path");try{e=require("graceful-fs")}catch(r){e=require("fs")}i=0,exports.EMFILE_MAX=1e3,exports.BUSYTRIES_MAX=3;