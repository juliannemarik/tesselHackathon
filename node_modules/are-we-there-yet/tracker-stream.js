"use strict";var t=require("util"),e=require("readable-stream"),r=require("delegates"),i=require("./tracker.js"),n=module.exports=function(t,r,n){e.Transform.call(this,n),this.tracker=new i(t,r),this.name=t,this.id=this.tracker.id,this.tracker.on("change",function(t){return function(e,r){t.emit("change",e,r,t)}}(this))};t.inherits(n,e.Transform),n.prototype._transform=function(t,e,r){this.tracker.completeWork(t.length?t.length:1),this.push(t),r()},n.prototype._flush=function(t){this.tracker.finish(),t()},r(n.prototype,"tracker").method("completed").method("addWork").method("finish");