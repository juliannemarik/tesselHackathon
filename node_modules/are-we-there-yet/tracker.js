"use strict";var o=require("util"),t=require("./tracker-base.js"),i=module.exports=function(o,i){t.call(this,o),this.workDone=0,this.workTodo=i||0};o.inherits(i,t),i.prototype.completed=function(){return 0===this.workTodo?0:this.workDone/this.workTodo},i.prototype.addWork=function(o){this.workTodo+=o,this.emit("change",this.name,this.completed(),this)},i.prototype.completeWork=function(o){this.workDone+=o,this.workDone>this.workTodo&&(this.workDone=this.workTodo),this.emit("change",this.name,this.completed(),this)},i.prototype.finish=function(){this.workTodo=this.workDone=1,this.emit("change",this.name,1,this)};