function n(n){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(function(r){n[r]=n[r]||l[r],n[r+="Sync"]=n[r]||l[r]}),n.maxBusyTries=n.maxBusyTries||3,n.emfileWait=n.emfileWait||1e3,!1===n.glob&&(n.disableGlob=!0),n.disableGlob=n.disableGlob||!1,n.glob=n.glob||E}function r(r,o,t){function e(n,r){return n?t(n):0===(a=r.length)?t():void r.forEach(function(n){i(n,o,function r(e){if(e){if(("EBUSY"===e.code||"ENOTEMPTY"===e.code||"EPERM"===e.code)&&c<o.maxBusyTries)return setTimeout(function(){i(n,o,r)},100*++c);if("EMFILE"===e.code&&y<o.emfileWait)return setTimeout(function(){i(n,o,r)},y++);"ENOENT"===e.code&&(e=null)}y=0,f=f||e,0==--a&&t(f)})})}var c,f,a;if("function"==typeof o&&(t=o,o={}),u(r,"rimraf: missing path"),u.equal(typeof r,"string","rimraf: path should be a string"),u.equal(typeof t,"function","rimraf: callback function required"),u(o,"rimraf: invalid options argument provided"),u.equal(typeof o,"object","rimraf: options should be object"),n(o),c=0,f=null,a=0,o.disableGlob||!d.hasMagic(r))return e(null,[r]);o.lstat(r,function(n){if(!n)return e(null,[r]);d(r,o.glob,e)})}function i(n,r,i){u(n),u(r),u("function"==typeof i),r.lstat(n,function(t,c){return t&&"ENOENT"===t.code?i(null):(t&&"EPERM"===t.code&&h&&o(n,r,t,i),c&&c.isDirectory()?e(n,r,t,i):void r.unlink(n,function(t){if(t){if("ENOENT"===t.code)return i(null);if("EPERM"===t.code)return h?o(n,r,t,i):e(n,r,t,i);if("EISDIR"===t.code)return e(n,r,t,i)}return i(t)}))})}function o(n,r,i,o){u(n),u(r),u("function"==typeof o),i&&u(i instanceof Error),r.chmod(n,s,function(t){t?o("ENOENT"===t.code?null:i):r.stat(n,function(t,c){t?o("ENOENT"===t.code?null:i):c.isDirectory()?e(n,r,i,o):r.unlink(n,o)})})}function t(n,r,i){u(n),u(r),i&&u(i instanceof Error);try{r.chmodSync(n,s)}catch(n){if("ENOENT"===n.code)return;throw i}try{var o=r.statSync(n)}catch(n){if("ENOENT"===n.code)return;throw i}o.isDirectory()?f(n,r,i):r.unlinkSync(n)}function e(n,i,o,t){u(n),u(i),o&&u(o instanceof Error),u("function"==typeof t),i.rmdir(n,function(e){!e||"ENOTEMPTY"!==e.code&&"EEXIST"!==e.code&&"EPERM"!==e.code?t(e&&"ENOTDIR"===e.code?o:e):function(n,i,o){u(n),u(i),u("function"==typeof o),i.readdir(n,function(t,e){var c,f;return t?o(t):0===(c=e.length)?i.rmdir(n,o):void e.forEach(function(t){r(a.join(n,t),i,function(r){if(!f)return r?o(f=r):void(0==--c&&i.rmdir(n,o))})})})}(n,i,t)})}function c(r,i){var o,e,c;if(i=i||{},n(i),u(r,"rimraf: missing path"),u.equal(typeof r,"string","rimraf: path should be a string"),u(i,"rimraf: missing options"),u.equal(typeof i,"object","rimraf: options should be object"),i.disableGlob||!d.hasMagic(r))o=[r];else try{i.lstatSync(r),o=[r]}catch(n){o=d.sync(r,i.glob)}if(o.length)for(e=0;e<o.length;e++){r=o[e];try{c=i.lstatSync(r)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&h&&t(r,i,n)}try{c&&c.isDirectory()?f(r,i,null):i.unlinkSync(r)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return h?t(r,i,n):f(r,i,n);if("EISDIR"!==n.code)throw n;f(r,i,n)}}}function f(n,r,i){u(n),u(r),i&&u(i instanceof Error);try{r.rmdirSync(n)}catch(o){if("ENOENT"===o.code)return;if("ENOTDIR"===o.code)throw i;"ENOTEMPTY"!==o.code&&"EEXIST"!==o.code&&"EPERM"!==o.code||function(n,r){var i,o,t,e;for(u(n),u(r),r.readdirSync(n).forEach(function(i){c(a.join(n,i),r)}),i=h?100:1,o=0;;){t=!0;try{return e=r.rmdirSync(n,r),t=!1,e}finally{if(++o<i&&t)continue}}}(n,r)}}var u,a,l,d,s,E,y,h;module.exports=r,r.sync=c,u=require("assert"),a=require("path"),l=require("fs"),d=require("glob"),s=parseInt("666",8),E={nosort:!0,silent:!0},y=0,h="win32"===process.platform;