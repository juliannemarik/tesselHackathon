(function(){var n,t,e=this,r=e.humanize,a={};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.humanize=a):("function"==typeof define&&define.amd&&define("humanize",function(){return a}),e.humanize=a),a.noConflict=function(){return e.humanize=r,this},a.pad=function(n,t,e,r){if(n+="",e?e.length>1&&(e=e.charAt(0)):e=" ","right"==(r=void 0===r?"left":"right"))for(;n.length<t;)n+=e;else for(;n.length<t;)n=e+n;return n},a.time=function(){return(new Date).getTime()/1e3},n=[0,0,31,59,90,120,151,181,212,243,273,304,334],t=[0,0,31,60,91,121,152,182,213,244,274,305,335],a.date=function(e,r){var o=void 0===r?new Date:new Date(r instanceof Date?r:1e3*r),u=/\\?([a-z])/gi,i=function(n,t){return s[n]?s[n]():t},f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"],s={d:function(){return a.pad(s.j(),2,"0")},D:function(){return s.l().slice(0,3)},j:function(){return o.getDate()},l:function(){return f[s.w()]},N:function(){return s.w()||7},S:function(){var n=s.j();return n>4&&n<21?"th":{1:"st",2:"nd",3:"rd"}[n%10]||"th"},w:function(){return o.getDay()},z:function(){return(s.L()?t[s.n()]:n[s.n()])+s.j()-1},W:function(){var n=s.z()-s.N()+1.5;return a.pad(1+Math.floor(Math.abs(n)/7)+(n%7>3.5?1:0),2,"0")},F:function(){return c[o.getMonth()]},m:function(){return a.pad(s.n(),2,"0")},M:function(){return s.F().slice(0,3)},n:function(){return o.getMonth()+1},t:function(){return new Date(s.Y(),s.n(),0).getDate()},L:function(){return 1===new Date(s.Y(),1,29).getMonth()?1:0},o:function(){var n=s.n(),t=s.W();return s.Y()+(12===n&&t<9?-1:1===n&&t>9)},Y:function(){return o.getFullYear()},y:function(){return(s.Y()+"").slice(-2)},a:function(){return o.getHours()>11?"pm":"am"},A:function(){return s.a().toUpperCase()},B:function(){var n,t=o.getTime()/1e3,e=t%86400+3600;return e<0&&(e+=86400),n=e/86.4%1e3,t<0?Math.ceil(n):Math.floor(n)},g:function(){return s.G()%12||12},G:function(){return o.getHours()},h:function(){return a.pad(s.g(),2,"0")},H:function(){return a.pad(s.G(),2,"0")},i:function(){return a.pad(o.getMinutes(),2,"0")},s:function(){return a.pad(o.getSeconds(),2,"0")},u:function(){return a.pad(1e3*o.getMilliseconds(),6,"0")},O:function(){var n=o.getTimezoneOffset(),t=Math.abs(n);return(n>0?"-":"+")+a.pad(100*Math.floor(t/60)+t%60,4,"0")},P:function(){var n=s.O();return n.substr(0,3)+":"+n.substr(3,2)},Z:function(){return 60*-o.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(u,i)},r:function(){return"D, d M Y H:i:s O".replace(u,i)},U:function(){return o.getTime()/1e3||0}};return e.replace(u,i)},a.numberFormat=function(n,t,e,r){var a,o,u;return t=isNaN(t)?2:Math.abs(t),e=void 0===e?".":e,r=void 0===r?",":r,a=n<0?"-":"",n=Math.abs(+n||0),o=parseInt(n.toFixed(t),10)+"",u=o.length>3?o.length%3:0,a+(u?o.substr(0,u)+r:"")+o.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+r)+(t?e+Math.abs(n-o).toFixed(t).slice(2):"")},a.naturalDay=function(n,t){var e,r;return n=void 0===n?a.time():n,t=void 0===t?"Y-m-d":t,e=new Date,r=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()/1e3,n<r&&n>=r-86400?"yesterday":n>=r&&n<r+86400?"today":n>=r+86400&&n<r+172800?"tomorrow":a.date(t,n)},a.relativeTime=function(n){var t,e,r,o,u,i,f,c,s,d,h;return n=void 0===n?a.time():n,t=a.time(),(e=t-n)<2&&e>-2?(e>=0?"just ":"")+"now":e<60&&e>-60?e>=0?Math.floor(e)+" seconds ago":"in "+Math.floor(-e)+" seconds":e<120&&e>-120?e>=0?"about a minute ago":"in about a minute":e<3600&&e>-3600?e>=0?Math.floor(e/60)+" minutes ago":"in "+Math.floor(-e/60)+" minutes":e<7200&&e>-7200?e>=0?"about an hour ago":"in about an hour":e<86400&&e>-86400?e>=0?Math.floor(e/3600)+" hours ago":"in "+Math.floor(-e/3600)+" hours":(r=172800,e<r&&e>-r?e>=0?"1 day ago":"in 1 day":(o=2505600,e<o&&e>-o?e>=0?Math.floor(e/86400)+" days ago":"in "+Math.floor(-e/86400)+" days":(u=5184e3,e<u&&e>-u?e>=0?"about a month ago":"in about a month":(i=parseInt(a.date("Y",t),10),f=parseInt(a.date("Y",n),10),c=12*i+parseInt(a.date("n",t),10),s=12*f+parseInt(a.date("n",n),10),(d=c-s)<12&&d>-12?d>=0?d+" months ago":"in "+-d+" months":(h=i-f)<2&&h>-2?h>=0?"a year ago":"in a year":h>=0?h+" years ago":"in "+-h+" years"))))},a.ordinal=function(n){var t,e;return n=parseInt(n,10),n=isNaN(n)?0:n,t=n<0?"-":"",n=Math.abs(n),e=n%100,t+n+(e>4&&e<21?"th":{1:"st",2:"nd",3:"rd"}[n%10]||"th")},a.filesize=function(n,t,e,r,o,u){return t=void 0===t?1024:t,n<=0?"0 bytes":(n<t&&void 0===e&&(e=0),void 0===u&&(u=" "),a.intword(n,["bytes","KB","MB","GB","TB","PB"],t,e,r,o,u))},a.intword=function(n,t,e,r,o,u,i){var f,c,s,d;for(c=(t=t||["","K","M","B","T"]).length-1,e=e||1e3,r=isNaN(r)?2:Math.abs(r),o=o||".",u=u||",",i=i||"",s=0;s<t.length;s++)if(n<Math.pow(e,s+1)){c=s;break}return f=n/Math.pow(e,c),d=t[c]?i+t[c]:"",a.numberFormat(f,r,o,u)+d},a.linebreaks=function(n){return n=n.replace(/^([\n|\r]*)/,""),n=n.replace(/([\n|\r]*)$/,""),n=n.replace(/(\r\n|\n|\r)/g,"\n"),n=n.replace(/(\n{2,})/g,"</p><p>"),"<p>"+(n=n.replace(/\n/g,"<br />"))+"</p>"},a.nl2br=function(n){return n.replace(/(\r\n|\n|\r)/g,"<br />")},a.truncatechars=function(n,t){return n.length<=t?n:n.substr(0,t)+"…"},a.truncatewords=function(n,t){var e=n.split(" ");return e.length<t?n:e.slice(0,t).join(" ")+"…"}}).call(this);