function t(r){if(!(this instanceof t))return new t(r);e.Parse.apply(this),r.type="Directory",r.Directory=!0,"object"!=typeof r&&(r={path:r}),r.path=r.path||p.resolve("node-tar-extract"),r.type="Directory",r.Directory=!0,r.strip=+r.strip,(!r.strip||r.strip<=0)&&(r.strip=0),this._fst=i.Writer(r),this.pause();var s=this;s.on("entry",function(t){var e,i;r.strip&&(e=t.path.split("/").slice(r.strip).join("/"),t.path=t.props.path=e,t.linkpath&&(i=t.linkpath.split("/").slice(r.strip).join("/"),t.linkpath=t.props.linkpath=i)),"Link"===t.type&&(t.linkpath=t.props.linkpath=p.join(r.path,p.join("/",t.props.linkpath)))}),this._fst.on("ready",function(){s.pipe(s._fst,{end:!1}),s.resume()}),this._fst.on("close",function(){s.emit("end"),s.emit("close")})}module.exports=t;var e=require("../tar.js"),i=require("fstream"),r=require("inherits"),p=require("path");r(t,e.Parse),t.prototype._streamEnd=function(){this._ended||this.error("unexpected eof"),this._fst.end()};