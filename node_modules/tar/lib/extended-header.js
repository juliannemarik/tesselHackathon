function i(){e.apply(this,arguments),this.on("data",this._parse),this.fields={},this._position=0,this._fieldPos=0,this._state=u,this._sizeBuf=[],this._keyBuf=[],this._valBuf=[],this._size=-1,this._key=""}function t(i,t){t="invalid header: "+t+"\nposition="+i._position+"\nfield position="+i._fieldPos,i.error(t),i.state=l}var e,s,h,n,f,_,o,u,r,a,l,d,c,p,y,B;module.exports=i,e=require("./entry.js"),s=require("inherits"),h=require("../tar.js"),n=h.numeric,f={"SCHILY.dev":"dev","SCHILY.ino":"ino","SCHILY.nlink":"nlink"},s(i,e),i.prototype._parse=function(i){var e,s,h,_;if(this._state!==l)for(e=0,s=i.length;e<s;this._position++,this._fieldPos++,e++){if(h=i[e],this._size>=0&&this._fieldPos>this._size)return void t(this,"field exceeds length="+this._size);switch(this._state){case l:return;case u:if(h===p){this._state=r,this._size=parseInt(""+new Buffer(this._sizeBuf),10),this._sizeBuf.length=0;continue}if(h<d||h>c)return void t(this,"expected ["+d+".."+c+"], got "+h);this._sizeBuf.push(h);continue;case r:if(h===y){this._state=a,this._key=""+new Buffer(this._keyBuf),f[this._key]&&(this._key=f[this._key]),this._keyBuf.length=0;continue}this._keyBuf.push(h);continue;case a:if(this._fieldPos===this._size-1){if(h!==B)return void t(this,"expected \\n at end of field");_=""+new Buffer(this._valBuf),n[this._key]&&(_=parseFloat(_)),this.fields[this._key]=_,this._valBuf.length=0,this._state=u,this._size=-1,this._fieldPos=-1;continue}this._valBuf.push(h);continue}}},_=0,o=i.states={},u=o.SIZE=_++,r=o.KEY=_++,a=o.VAL=_++,l=o.ERR=_++,Object.keys(o).forEach(function(i){o[o[i]]=o[i]}),o[_]=null,d=48,c=57,p=32,y=61,B=10;