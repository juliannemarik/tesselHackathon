"use strict";function s(s){return function(t){return-1!==t.indexOf(s)}}function t(s){return s.split(/[\r\n]+/)[1].trim().split(/\s/)[1]}function e(s){try{return m(s)}catch(s){}return[]}var i,r,n,u,l,o,c,d=require("os").platform(),f=require("child_process").spawnSync,m=require("fs").readdirSync,a="musl",b={encoding:"utf8",env:process.env};f||(f=function(){return{status:126,stdout:"",stderr:""}}),i="",r="",n="","linux"===d&&(0===(u=f("getconf",["GNU_LIBC_VERSION"],b)).status?(i="glibc",r=u.stdout.trim().split(" ")[1],n="getconf"):0===(l=f("ldd",["--version"],b)).status&&-1!==l.stdout.indexOf(a)?(i=a,r=t(l.stdout),n="ldd"):1===l.status&&-1!==l.stderr.indexOf(a)?(i=a,r=t(l.stderr),n="ldd"):(o=e("/lib")).some(s("-linux-gnu"))?(i="glibc",n="filesystem"):o.some(s("libc.musl-"))?(i=a,n="filesystem"):o.some(s("ld-musl-"))?(i=a,n="filesystem"):e("/usr/sbin").some(s("glibc"))&&(i="glibc",n="filesystem")),c=""!==i&&"glibc"!==i,module.exports={GLIBC:"glibc",MUSL:a,family:i,version:r,method:n,isNonGlibcLinux:c};