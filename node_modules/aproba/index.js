"use strict";function e(e,n){var r=n[e.length]=n[e.length]||[];-1===r.indexOf(e)&&r.push(e)}function n(e){return o("EMISSINGARG","Missing required argument #"+(e+1))}function r(e,n,r){var c;return Object.keys(u).forEach(function(e){u[e].check(r)&&(c=u[e].label)}),o("EINVALIDTYPE","Argument #"+(e+1)+": Expected "+t(n)+" but got "+c)}function t(e){return e.join(", ").replace(/, ([^,]+)$/," or $1")}function c(e,n){return o("EWRONGARGCOUNT","Expected "+t(e)+" "+(e.every(function(e){return 1===e.length})?"argument":"arguments")+" but got "+n)}function o(e,n){var r=Error(n);return r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,l),r}var u={"*":{label:"any",check:function(){return!0}},A:{label:"array",check:function(e){return Array.isArray(e)||null!=e&&"object"==typeof e&&e.hasOwnProperty("callee")}},S:{label:"string",check:function(e){return"string"==typeof e}},N:{label:"number",check:function(e){return"number"==typeof e}},F:{label:"function",check:function(e){return"function"==typeof e}},O:{label:"object",check:function(e){return"object"==typeof e&&null!=e&&!u.A.check(e)&&!u.E.check(e)}},B:{label:"boolean",check:function(e){return"boolean"==typeof e}},E:{label:"error",check:function(e){return e instanceof Error}},Z:{label:"null",check:function(e){return null==e}}},l=module.exports=function(t,l){var i,a,f,h,E,g;if(2!==arguments.length)throw c(["SA"],arguments.length);if(!t)throw n(0);if(!l)throw n(1);if(!u.S.check(t))throw r(0,["string"],t);if(!u.A.check(l))throw r(1,["array"],l);if(i=t.split("|"),a={},i.forEach(function(n){var r,t;for(r=0;r<n.length;++r)if(t=n[r],!u[t])throw o("EUNKNOWNTYPE","Unknown type "+t+" in argument #"+(r+1));if(/E.*E/.test(n))throw o("ETOOMANYERRORTYPES",'Only one error type per argument signature is allowed, more than one found in "'+n+'"');e(n,a),/E/.test(n)&&(e(n.replace(/E.*$/,"E"),a),e(n.replace(/E/,"Z"),a),1===n.length&&e("",a))}),!(f=a[l.length]))throw c(Object.keys(a),l.length);for(h=0;h<l.length;++h){if(!(E=f.filter(function(e){var n=e[h];return(0,u[n].check)(l[h])})).length)throw g=f.map(function(e){return u[e[h]].label}).filter(function(e){return null!=e}),r(h,g,l[h]);f=E}};