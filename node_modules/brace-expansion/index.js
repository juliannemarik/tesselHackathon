function t(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function n(t){return t.split(a).join("\\").split(u).join("{").split(l).join("}").split(h).join(",").split(d).join(".")}function r(t){var n,e,o,i,s,p,a;return t?(n=[],(e=c("{","}",t))?(o=e.pre,i=e.body,s=e.post,p=o.split(","),p[p.length-1]+="{"+i+"}",a=r(s),s.length&&(p[p.length-1]+=a.shift(),p.push.apply(p,a)),n.push.apply(n,p),n):t.split(",")):[""]}function e(t){return"{"+t+"}"}function o(t){return/^-?0\d/.test(t)}function i(t,n){return t<=n}function s(t,n){return t>=n}function p(n,a){var u,h,d,m,g,b,j,y,M,A,C,O,S,$,v,x,E,I,q,z,L,P=[],Z=c("{","}",n);if(!Z||/\$$/.test(Z.pre))return[n];if(u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(Z.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(Z.body),d=u||h,m=Z.body.indexOf(",")>=0,!d&&!m)return Z.post.match(/,.*\}/)?(n=Z.pre+"{"+Z.body+l+Z.post,p(n)):[n];if(d)g=Z.body.split(/\.\./);else if(1===(g=r(Z.body)).length&&1===(g=p(g[0],!1).map(e)).length)return(b=Z.post.length?p(Z.post,!1):[""]).map(function(t){return Z.pre+g[0]+t});if(j=Z.pre,b=Z.post.length?p(Z.post,!1):[""],d)for(M=t(g[0]),A=t(g[1]),C=Math.max(g[0].length,g[1].length),O=3==g.length?Math.abs(t(g[2])):1,S=i,A<M&&(O*=-1,S=s),$=g.some(o),y=[],v=M;S(v,A);v+=O)h?"\\"===(x=String.fromCharCode(v))&&(x=""):(x=v+"",$&&(E=C-x.length)>0&&(I=Array(E+1).join("0"),x=v<0?"-"+I+x.slice(1):I+x)),y.push(x);else y=f(g,function(t){return p(t,!1)});for(q=0;q<y.length;q++)for(z=0;z<b.length;z++)L=j+y[q]+b[z],(!a||d||L)&&P.push(L);return P}var a,u,l,h,d,f=require("concat-map"),c=require("balanced-match");module.exports=function(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),p(t.split("\\\\").join(a).split("\\{").join(u).split("\\}").join(l).split("\\,").join(h).split("\\.").join(d),!0).map(n)):[]},a="\0SLASH"+Math.random()+"\0",u="\0OPEN"+Math.random()+"\0",l="\0CLOSE"+Math.random()+"\0",h="\0COMMA"+Math.random()+"\0",d="\0PERIOD"+Math.random()+"\0";