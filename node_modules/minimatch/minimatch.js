function t(t,e){t=t||{};var n={};return Object.keys(e=e||{}).forEach(function(t){n[t]=e[t]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function e(t,e,r){if("string"!=typeof e)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new n(e,r).match(t))}function n(t,e){if(!(this instanceof n))return new n(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==i.sep&&(t=t.split(i.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function r(t,e){if(e||(e=this instanceof n?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:o(t)}var i,s,o,a,h,c,u,p,f,g;module.exports=e,e.Minimatch=n,i={sep:"/"};try{i=require("path")}catch(t){}s=e.GLOBSTAR=n.GLOBSTAR={},o=require("brace-expansion"),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c=(h="[^/]")+"*?",u="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",p="().*{}+?[]^$\\!".split("").reduce(function(t,e){return t[e]=!0,t},{}),f=/\/+/,e.filter=function(t,n){return n=n||{},function(r){return e(r,t,n)}},e.defaults=function(n){var r,i;return n&&Object.keys(n).length?(r=e,i=function(e,i,s){return r.minimatch(e,i,t(n,s))},i.Minimatch=function(e,i){return new r.Minimatch(e,t(n,i))},i):e},n.defaults=function(t){return t&&Object.keys(t).length?e.defaults(t).Minimatch:n},n.prototype.debug=function(){},n.prototype.make=function(){var t,e,n;this._made||(t=this.pattern,(e=this.options).nocomment||"#"!==t.charAt(0)?t?(this.parseNegate(),n=this.globSet=this.braceExpand(),e.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map(function(t){return t.split(f)}),this.debug(this.pattern,n),n=n.map(function(t){return t.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,n),this.set=n):this.empty=!0:this.comment=!0)},n.prototype.parseNegate=function(){var t,e,n=this.pattern,r=!1,i=0;if(!this.options.nonegate){for(t=0,e=n.length;t<e&&"!"===n.charAt(t);t++)r=!r,i++;i&&(this.pattern=n.substr(i)),this.negate=r}},e.braceExpand=function(t,e){return r(t,e)},n.prototype.braceExpand=r,n.prototype.parse=function(t,e){function n(){if(d){switch(d){case"*":i+=c,o=!0;break;case"?":i+=h,o=!0;break;default:i+="\\"+d}x.debug("clearStateChar %j %j",d,i),d=!1}}var r,i,o,u,f,l,d,b,m,y,w,x,E,j,O,k,v,A,S,$,R,T,C,L,q,B,M,N,_,G,P,z;if(t.length>65536)throw new TypeError("pattern is too long");if(!(r=this.options).noglobstar&&"**"===t)return s;if(""===t)return"";for(i="",o=!!r.nocase,u=!1,f=[],l=[],b=!1,m=-1,y=-1,w="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",x=this,E=0,j=t.length;E<j&&(O=t.charAt(E));E++)if(this.debug("%s\t%s %s %j",t,E,i,O),u&&p[O])i+="\\"+O,u=!1;else switch(O){case"/":return!1;case"\\":n(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,E,i,O),b){this.debug("  in class"),"!"===O&&E===y+1&&(O="^"),i+=O;continue}x.debug("call clearStateChar %j",d),n(),d=O,r.noext&&n();continue;case"(":if(b){i+="(";continue}if(!d){i+="\\(";continue}f.push({type:d,start:E-1,reStart:i.length,open:a[d].open,close:a[d].close}),i+="!"===d?"(?:(?!(?:":"(?:",this.debug("plType %j %j",d,i),d=!1;continue;case")":if(b||!f.length){i+="\\)";continue}n(),o=!0,k=f.pop(),i+=k.close,"!"===k.type&&l.push(k),k.reEnd=i.length;continue;case"|":if(b||!f.length||u){i+="\\|",u=!1;continue}n(),i+="|";continue;case"[":if(n(),b){i+="\\"+O;continue}b=!0,y=E,m=i.length,i+=O;continue;case"]":if(E===y+1||!b){i+="\\"+O,u=!1;continue}if(b){v=t.substring(y+1,E);try{RegExp("["+v+"]")}catch(t){A=this.parse(v,g),i=i.substr(0,m)+"\\["+A[0]+"\\]",o=o||A[1],b=!1;continue}}o=!0,b=!1,i+=O;continue;default:n(),u?u=!1:!p[O]||"^"===O&&b||(i+="\\"),i+=O}for(b&&(v=t.substr(y+1),A=this.parse(v,g),i=i.substr(0,m)+"\\["+A[0],o=o||A[1]),k=f.pop();k;k=f.pop())S=i.slice(k.reStart+k.open.length),this.debug("setting tail",i,k),S=S.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,n){return n||(n="\\"),e+e+n+"|"}),this.debug("tail=%j\n   %s",S,S,k,i),$="*"===k.type?c:"?"===k.type?h:"\\"+k.type,o=!0,i=i.slice(0,k.reStart)+$+"\\("+S;switch(n(),u&&(i+="\\\\"),R=!1,i.charAt(0)){case".":case"[":case"(":R=!0}for(T=l.length-1;T>-1;T--){for(C=l[T],L=i.slice(0,C.reStart),q=i.slice(C.reStart,C.reEnd-8),B=i.slice(C.reEnd-8,C.reEnd),B+=M=i.slice(C.reEnd),N=L.split("(").length-1,_=M,E=0;E<N;E++)_=_.replace(/\)[+*?]?/,"");G="",""===(M=_)&&e!==g&&(G="$"),i=L+q+M+G+B}if(""!==i&&o&&(i="(?=.)"+i),R&&(i=w+i),e===g)return[i,o];if(!o)return t.replace(/\\(.)/g,"$1");P=r.nocase?"i":"";try{z=RegExp("^"+i+"$",P)}catch(t){return RegExp("$.")}return z._glob=t,z._src=i,z},g={},e.makeRe=function(t,e){return new n(t,e||{}).makeRe()},n.prototype.makeRe=function(){var t,e,n,r,i;if(this.regexp||!1===this.regexp)return this.regexp;if(!(t=this.set).length)return this.regexp=!1,this.regexp;e=this.options,n=e.noglobstar?c:e.dot?u:"(?:(?!(?:\\/|^)\\.).)*?",r=e.nocase?"i":"",i="^(?:"+(i=t.map(function(t){return t.map(function(t){return t===s?n:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src}).join("\\/")}).join("|"))+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=RegExp(i,r)}catch(t){this.regexp=!1}return this.regexp},e.match=function(t,e,r){var i=new n(e,r=r||{});return t=t.filter(function(t){return i.match(t)}),i.options.nonull&&!t.length&&t.push(e),t},n.prototype.match=function(t,e){var n,r,s,o,a,h;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;for(n=this.options,"/"!==i.sep&&(t=t.split(i.sep).join("/")),t=t.split(f),this.debug(this.pattern,"split",t),r=this.set,this.debug(this.pattern,"set",r),o=t.length-1;o>=0&&!(s=t[o]);o--);for(o=0;o<r.length;o++)if(a=r[o],h=t,n.matchBase&&1===a.length&&(h=[s]),this.matchOne(h,a,e))return!!n.flipNegate||!this.negate;return!n.flipNegate&&this.negate},n.prototype.matchOne=function(t,e,n){var r,i,o,a,h,c,u,p,f,g,l=this.options;for(this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length),r=0,i=0,o=t.length,a=e.length;r<o&&i<a;r++,i++){if(this.debug("matchOne loop"),h=e[i],c=t[r],this.debug(e,h,c),!1===h)return!1;if(h===s){if(this.debug("GLOBSTAR",[e,h,c]),u=r,(p=i+1)===a){for(this.debug("** at the end");r<o;r++)if("."===t[r]||".."===t[r]||!l.dot&&"."===t[r].charAt(0))return!1;return!0}for(;u<o;){if(f=t[u],this.debug("\nglobstar while",t,u,e,p,f),this.matchOne(t.slice(u),e.slice(p),n))return this.debug("globstar found match!",u,o,f),!0;if("."===f||".."===f||!l.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,u,e,p);break}this.debug("globstar swallow a segment, and continue"),u++}return!(!n||(this.debug("\n>>> no match, partial?",t,u,e,p),u!==o))}if("string"==typeof h?(g=l.nocase?c.toLowerCase()===h.toLowerCase():c===h,this.debug("string match",h,c,g)):(g=c.match(h),this.debug("pattern match",h,c,g)),!g)return!1}if(r===o&&i===a)return!0;if(r===o)return n;if(i===a)return r===o-1&&""===t[r];throw Error("wtf?")};