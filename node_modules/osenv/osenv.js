function e(e,n,r){var s=!1,t=!1;exports[e]=function(c){var p=n();return p||s||t||!r||(s=!0,t=!0,o(r,function(e,n){t=!1,e||(p=n.trim())})),exports[e]=function(e){return e&&process.nextTick(e.bind(null,null,p)),p},c&&!t&&process.nextTick(c.bind(null,null,p)),p}}var n="win32"===process.platform,r=n?process.env.windir||"C:\\Windows":null,s=require("path"),o=require("child_process").exec;e("user",function(){return n?process.env.USERDOMAIN+"\\"+process.env.USERNAME:process.env.USER},"whoami"),e("prompt",function(){return n?process.env.PROMPT:process.env.PS1}),e("hostname",function(){return n?process.env.COMPUTERNAME:process.env.HOSTNAME},"hostname"),e("tmpdir",function(){var e=n?"temp":"tmp";return process.env.TMPDIR||process.env.TMP||process.env.TEMP||(exports.home()?s.resolve(exports.home(),e):n?s.resolve(r,e):"/tmp")}),e("home",function(){return n?process.env.USERPROFILE:process.env.HOME}),e("path",function(){return(process.env.PATH||process.env.Path||process.env.path).split(n?";":":")}),e("editor",function(){return process.env.EDITOR||process.env.VISUAL||(n?"notepad.exe":"vi")}),e("shell",function(){return n?process.env.ComSpec||"cmd":process.env.SHELL||"bash"});