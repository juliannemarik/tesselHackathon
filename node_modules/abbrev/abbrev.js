function r(r){var t,n,o,a,i,b,c,f,l,u,s,y,h;for(1===arguments.length&&Array.isArray(r)||(r=Array.prototype.slice.call(arguments,0)),t=0,n=r.length,o=[];t<n;t++)o[t]="string"==typeof r[t]?r[t]:r[t]+"";for(a={},i="",t=0,n=(o=o.sort(e)).length;t<n;t++)if(b=o[t],c=o[t+1]||"",f=!0,l=!0,b!==c){for(u=0,s=b.length;u<s;u++)if(y=b.charAt(u),f=f&&y===c.charAt(u),l=l&&y===i.charAt(u),!f&&!l){u++;break}if(i=b,u!==s)for(h=b.substr(0,u);u<=s;u++)a[h]=b,h+=b.charAt(u);else a[b]=b}return a}function e(r,e){return r===e?0:r>e?1:-1}module.exports=exports=r.abbrev=r,r.monkeyPatch=function(){Object.defineProperty(Array.prototype,"abbrev",{value:function(){return r(this)},enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(Object.prototype,"abbrev",{value:function(){return r(Object.keys(this))},enumerable:!1,configurable:!0,writable:!0})};