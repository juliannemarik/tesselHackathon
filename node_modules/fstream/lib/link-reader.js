function e(t){if(!(this instanceof e))throw Error("LinkReader must be called as constructor.");if(!("Link"===t.type&&t.Link||"SymbolicLink"===t.type&&t.SymbolicLink))throw Error("Non-link type "+t.type);i.call(this,t)}module.exports=e;var t=require("graceful-fs"),r=(require("../fstream.js"),require("inherits")),i=(require("mkdirp"),require("./reader.js"));r(e,i),e.prototype._stat=function(e){var r=this;t.readlink(r._path,function(t,n){if(t)return r.error(t);r.linkpath=r.props.linkpath=n,r.emit("linkpath",n),i.prototype._stat.call(r,e)})},e.prototype._read=function(){this._paused||this._ended||(this.emit("end"),this.emit("close"),this._ended=!0)};